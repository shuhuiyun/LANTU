"use strict";(self["webpackChunk_22_project_20240328"]=self["webpackChunk_22_project_20240328"]||[]).push([[368],{7368:function(e,s,t){t.r(s),t.d(s,{default:function(){return w}});var a=t(6768),o=t(5130);const r={class:"container fluid-height row mx-auto pt-5"},n={class:"row bg-white rounded-4 col-md-7 col-lg-5 mx-auto"},i={class:"login__contain"},c={class:"col"},l=(0,a.Lk)("h1",{class:"fs-1 text-primary mb-5 text-center"},"Login",-1),u={class:"mb-2 px-5"},d={class:"mb-2 px-5"},p=(0,a.Lk)("div",{class:"text-center mt-4 row"},[(0,a.Lk)("button",{class:"btn btn-primary fs-6 col-4 mx-auto mt-5",type:"submit"}," 登入 ")],-1);function m(e,s,t,m,h,k){return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("form",{onSubmit:s[2]||(s[2]=(0,o.D$)(((...e)=>k.signIn&&k.signIn(...e)),["prevent"]))},[(0,a.Lk)("div",n,[(0,a.Lk)("div",i,[(0,a.Lk)("div",c,[l,(0,a.Lk)("div",u,[(0,a.bo)((0,a.Lk)("input",{class:"form-control mb-3",type:"email",placeholder:"Email address","aria-label":"Email address",id:"inputEmail","onUpdate:modelValue":s[0]||(s[0]=e=>h.user.username=e)},null,512),[[o.Jo,h.user.username]])]),(0,a.Lk)("div",d,[(0,a.bo)((0,a.Lk)("input",{class:"form-control",type:"password",placeholder:"Password","aria-label":"Password",id:"inputPassword","onUpdate:modelValue":s[1]||(s[1]=e=>h.user.password=e)},null,512),[[o.Jo,h.user.password]])])]),p])])],32)])}t(4114);var h={data(){return{user:{username:"",password:""}}},inject:["emitter","$httpMessageState"],methods:{signIn(){const e="https://vue3-course-api.hexschool.io/admin/signin";this.$http.post(e,this.user).then((e=>{if(e.data.success){const{token:s,expired:t}=e.data;document.cookie=`userToken=${s}; expires=${new Date(t)};`,this.$router.push("dashboard/products")}})).catch((()=>{this.emitter.emit("push-message",{style:"danger",title:"登入失敗",content:"抱歉，出現系統問題，請聯絡我們！"})}))}}},k=t(1241);const b=(0,k.A)(h,[["render",m]]);var w=b}}]);
//# sourceMappingURL=368.93c8d395.js.map
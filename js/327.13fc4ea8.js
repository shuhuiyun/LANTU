"use strict";(self["webpackChunk_22_project_20240328"]=self["webpackChunk_22_project_20240328"]||[]).push([[327],{8327:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var s=r(6768),a=r(4232);const i={class:"row align-items-center d-flex flex-column"},l=(0,s.Lk)("div",{class:"col-12 fs-3 py-4 fw-bold border-bottom text-primary text-center"}," 訂單查詢 ",-1),o={class:"col-auto px-5",style:{"padding-top":"10%"}},n={class:"input-group"},d=(0,s.Lk)("button",{class:"btn btn-outline-secondary",type:"submit",id:"button-addon2",style:{"border-radius":"0 50rem 50rem 0"}}," 查詢 ",-1),c=(0,s.Lk)("ol",{class:"track__ol fs-7 mt-3",style:{"padding-bottom":"20%"}},[(0,s.Lk)("li",null,"請於訂購完成後三天內付款，否則訂單將被取消。"),(0,s.Lk)("li",null," 如在購買過程中或收到商品後有任何問題，歡迎隨時聯繫我們，我們將儘快回覆。 "),(0,s.Lk)("li",null," 在庫存充足的情況下，我們保證在付款完成後三天內發貨。如您訂購的商品庫存不足，我們將盡快以電子郵件通知您。 "),(0,s.Lk)("li",null,"目前僅提供國內服務，無法處理海外訂單。")],-1);function u(e,t,r,u,m,p){const h=(0,s.g2)("VField"),b=(0,s.g2)("ErrorMessage"),g=(0,s.g2)("VForm");return(0,s.uX)(),(0,s.CE)("div",i,[l,(0,s.Lk)("div",o,[(0,s.bF)(g,{ref:"observer",onSubmit:t[1]||(t[1]=e=>p.search(m.email))},{default:(0,s.k6)((({errors:e})=>[(0,s.Lk)("div",n,[(0,s.bF)(h,{name:"信箱",class:(0,a.C4)(["form-control",{"is-invalid":e["信箱"]}]),id:"inputEmail",type:"email",modelValue:m.email,"onUpdate:modelValue":t[0]||(t[0]=e=>m.email=e),rules:"email|required"},null,8,["modelValue","class"]),d,(0,s.bF)(b,{ref:"error",name:"信箱",class:"invalid-feedback p-0"},null,512)])])),_:1},512),c])])}r(4114);var m={data(){return{email:"",emailCheck:!0,order:[],tempUser:{}}},inject:["emitter","$httpMessageState"],methods:{search(e){const[...t]=this.orders,r=t.find((t=>t.user.email===e));r?this.$router.push(`/ordertrack/search/${e}`):(this.emailCheck=!1,this.$refs.observer.resetForm(),this.emitter.emit("push-message",{style:"danger",title:"查無訂單",content:"未查詢到該訂單，請嘗試在輸入一次。"}))},getOrders(e=1){const t=`https://vue3-course-api.hexschool.io/api/patty-api/orders/?page=${e}`;this.$http.get(t).then((e=>{this.orders=e.data.orders,this.pagination=e.data.pagination})).catch((()=>{this.emitter.emit("push-message",{style:"danger",title:"取得訂單失敗",content:"抱歉，出現系統問題，請聯絡我們！"})}))}},created(){this.getOrders()}},p=r(1241);const h=(0,p.A)(m,[["render",u]]);var b=h}}]);
//# sourceMappingURL=327.13fc4ea8.js.map
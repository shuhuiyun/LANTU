"use strict";(self["webpackChunk_22_project_20240328"]=self["webpackChunk_22_project_20240328"]||[]).push([[467],{9848:function(t,e,s){s.r(e),s.d(e,{default:function(){return I}});s(4114);var a=s(6768),r=s(4232);const l={class:"container pb-4 pt-5"},o={class:"row order__padding"},i={class:"col-lg-6"},c=(0,a.Lk)("h4",{class:"mb-4 text-gray"},"寄送資訊",-1),n=(0,a.Lk)("span",{class:"me-5 text-gray"},"姓名",-1),d=(0,a.Lk)("span",{class:"me-5 text-gray"},"信箱",-1),u=(0,a.Lk)("span",{class:"me-5 text-gray"},"地址",-1),p=(0,a.Lk)("span",{class:"me-5 text-gray"},"取貨",-1),k=(0,a.Lk)("span",{class:"me-5 text-gray"},"付款",-1),h={class:"col-lg-6"},m=(0,a.Lk)("h4",{class:"text-gray mb-4"},"購物明細",-1),L={class:"col-3"},v=["src","alt"],_={class:"col-6 justify-content-center d-flex flex-column"},g={class:"m-0"},f={class:"text-gray m-0"},y=(0,a.Lk)("span",null,[(0,a.Lk)("i",{class:"bi bi-x"})],-1),b={class:"col-3 d-flex justify-content-end align-items-center"},x={class:"row border-bottom m-0 p-3"},$={class:"row d-flex justify-content-end p-0 m-0"},w=(0,a.Lk)("div",{class:"col"},"小計",-1),j={class:"col text-end"},C={class:"row d-flex justify-content-end p-0 m-0"},W=(0,a.Lk)("div",{class:"col"},"優惠券",-1),E={class:"col text-end text-primary"},N={class:"row m-0 p-3"},O={class:"row d-flex justify-content-end p-0 m-0"},T={class:"text-end"},X={class:"row justify-content-between order__padding mt-4"};function P(t,e,s,P,q,A){return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.Lk)("div",o,[(0,a.Lk)("div",i,[c,(0,a.Lk)("p",null,[n,(0,a.eW)((0,r.v_)(s.userdata.user.name),1)]),(0,a.Lk)("p",null,[d,(0,a.eW)((0,r.v_)(s.userdata.user.email),1)]),(0,a.Lk)("p",null,[u,(0,a.eW)((0,r.v_)(s.userdata.user.address),1)]),(0,a.Lk)("p",null,[p,(0,a.eW)((0,r.v_)(s.userdata.pick),1)]),(0,a.Lk)("p",null,[k,(0,a.eW)((0,r.v_)(s.userdata.send),1)])]),(0,a.Lk)("div",h,[m,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(q.product,(t=>((0,a.uX)(),(0,a.CE)("div",{class:"row border-bottom m-0 p-3",key:t.id},[(0,a.Lk)("div",L,[(0,a.Lk)("img",{class:"w-100 border rounded",src:t.product.imageUrl,alt:t.product.title},null,8,v)]),(0,a.Lk)("div",_,[(0,a.Lk)("p",g,(0,r.v_)(t.product.title),1),(0,a.Lk)("p",f,[(0,a.eW)((0,r.v_)(`$${t.product.price} `)+" ",1),y,(0,a.eW)(" "+(0,r.v_)(` ${t.qty} ${t.product.unit}`),1)])]),(0,a.Lk)("div",b,(0,r.v_)(`$${t.total}`),1)])))),128)),(0,a.Lk)("div",x,[(0,a.Lk)("div",$,[w,(0,a.Lk)("div",j,(0,r.v_)(`NT$${q.total.total}`),1)]),(0,a.Lk)("div",C,[W,(0,a.Lk)("div",E,(0,r.v_)("-NT$"+(q.total.total-q.total.final_total)),1)])]),(0,a.Lk)("div",N,[(0,a.Lk)("div",O,[(0,a.Lk)("h4",T,(0,r.v_)(`NT$${q.total.final_total}`),1)])])])]),(0,a.Lk)("div",X,[(0,a.Lk)("button",{type:"button",onClick:e[0]||(e[0]=e=>t.$router.push("/order/info")),class:"col-auto col-lg-auto btn btn-outline-primary order__btn"}," 上一步 "),(0,a.Lk)("button",{type:"button",class:"col-auto col-lg-auto btn btn-primary order__btn",onClick:e[1]||(e[1]=(...t)=>A.finishOrder&&A.finishOrder(...t))}," 送出訂單 ")])])}var q={props:["userdata"],data(){return{item:{},product:[],total:{}}},inject:["emitter","$httpMessageState"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/patty-api/cart";this.$http.get(t).then((t=>{this.isLoading=!1,this.product=t.data.data.carts,this.total.final_total=t.data.data.final_total,this.total.total=t.data.data.total})).catch((()=>{this.emitter.emit("push-message",{style:"danger",title:"取得訂單失敗",content:"抱歉，出現系統問題，請聯絡我們！"})}))},finishOrder(){const t="https://vue3-course-api.hexschool.io/api/patty-api/order",e={user:{name:this.userdata.user.name,email:this.userdata.user.email,tel:this.userdata.user.tel,address:this.userdata.user.address},message:this.userdata.message};this.$http.post(t,{data:e}).then((()=>{this.$router.push("/order/finish")})).catch((()=>{this.emitter.emit("push-message",{style:"danger",title:"取得訂單失敗",content:"抱歉，出現系統問題，請聯絡我們！"})}))}},created(){this.getProducts()}},A=s(1241);const F=(0,A.A)(q,[["render",P]]);var I=F}}]);
//# sourceMappingURL=467.7bb90c45.js.map
{"version":3,"file":"js/712.88ebd241.js","mappings":"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","sources":["webpack://22_project_20240328/./src/components/PageNavigation.vue","webpack://22_project_20240328/./src/components/PageNavigation.vue?402b","webpack://22_project_20240328/./src/views/UserCart.vue","webpack://22_project_20240328/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example \">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"prePage(pages.current_page)\"\n          >Previous</a\n        >\n      </li>\n      <li\n        class=\"page-item\"\n        style=\"border-radius: 5px\"\n        v-for=\"page in pages.total_pages\"\n        :key=\"page\"\n        :class=\"{ 'active': page === pages.current_page }\"\n      >\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{\n          page\n        }}</a>\n      </li>\n\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"nextPage(pages.current_page)\"\n          >Next</a\n        >\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-page', page);\n    },\n    nextPage(page) {\n      this.$emit('emit-page', `${page + 1}`);\n    },\n    prePage(page) {\n      this.$emit('emit-page', `${page - 1}`);\n    },\n  },\n};\n</script>\n","import { render } from \"./PageNavigation.vue?vue&type=template&id=01275d98\"\nimport script from \"./PageNavigation.vue?vue&type=script&lang=js\"\nexport * from \"./PageNavigation.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- eslint-disable max-len -->\n<template>\n  <LoadingSpinner :active=\"isLoading\"></LoadingSpinner>\n  <div class=\"container my-5 bg-white mx-auto\">\n    <div class=\"row g-5 d-flex flex-md-row flex-column mx-2\">\n      <div class=\"col-md-3 col col-lg-3 bg-light user-board__menu\">\n        <div class=\"col fs-5 fw-bold text-dark py-3 text-center\">產品分類</div>\n\n        <ul class=\"p-0 col bg-white pt-2 pb-4\">\n          <li class=\"border-bottom border-1\">\n            <a\n              href=\"#\"\n              class=\"d-block py-2 fs-7 px-3 text-start link-underline-opacity-0 link-underline link-dark\"\n              @click.prevent=\"getProducts(1)\"\n              >全部商品</a\n            >\n          </li>\n          <li class=\"border-bottom border-1\">\n            <a\n              href=\"#\"\n              class=\"d-block py-2 fs-7 px-3 text-start link-underline-opacity-0 link-underline link-dark\"\n              @click.prevent=\"categoryProducts('手帳/日誌')\"\n              >手帳/日誌</a\n            >\n          </li>\n          <li class=\"border-bottom border-1\">\n            <a\n              href=\"#\"\n              class=\"d-block py-2 fs-7 px-3 text-start link-underline-opacity-0 link-underline link-dark\"\n              @click.prevent=\"categoryProducts('筆記本')\"\n              >筆記本</a\n            >\n          </li>\n          <li class=\"border-bottom border-1\">\n            <a\n              href=\"#\"\n              class=\"d-block py-2 fs-7 px-3 text-start link-underline-opacity-0 link-underline link-dark\"\n              @click.prevent=\"categoryProducts('便條紙')\"\n              >便條紙</a\n            >\n          </li>\n          <li class=\"border-bottom border-1\">\n            <a\n              href=\"#\"\n              class=\"d-block py-2 fs-7 px-3 text-start link-underline-opacity-0 link-underline link-dark\"\n              @click.prevent=\"categoryProducts('信封信紙/卡片')\"\n              >信封信紙/卡片</a\n            >\n          </li>\n        </ul>\n      </div>\n      <div class=\"col-md-9 col col-lg-9\">\n        <div class=\"row row-cols-1 row-cols-lg-3 row-cols-md-2 gx-4\">\n          <!-- 商品 -->\n          <div\n            class=\"col user-board__products mb-4\"\n            v-for=\"item in tempProducts\"\n            :key=\"item.id\"\n          >\n            <a\n              aria-label=\"img\"\n              href=\"#\"\n              @click.prevent=\"getProduct(item.id)\"\n              style=\"\"\n            >\n              <img\n                :src=\"item.imageUrl\"\n                v-if=\"item.imageUrl\"\n                class=\"col-12 border\"\n                style=\"aspect-ratio: 1/1; object-fit: cover\"\n                :alt=\"item.title\"\n              />\n              <img\n                v-else\n                src=\"../assets/images/no-image.png\"\n                class=\"col-12 border\"\n                style=\"aspect-ratio: 1/1; object-fit: cover\"\n                alt=\"提示:此商品沒有圖片\"\n              />\n            </a>\n            <div class=\"p-2\">\n              <div\n                class=\"col text-start fs-5 text-dark lh-sm my-2 fw-bold text-truncate\"\n              >\n                <a\n                  href=\"#\"\n                  class=\"link-offset-1 text-dark link-underline-dark link-underline-opacity-0 link-underline-opacity-75-hover\"\n                  @click.prevent=\"getProduct(item.id)\"\n                >\n                  {{ item.title }}</a\n                >\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col text-start text-danger fs-5\">\n                  {{ `$${item.price}`\n                  }}<span\n                    class=\"fs-7 ms-1 text-decoration-line-through\"\n                    style=\"color: rgb(37, 37, 43, 0.5)\"\n                    >{{ `$${item.origin_price}` }}</span\n                  >\n                </div>\n                <div class=\"col-auto ms-auto my-auto\">\n                  <button\n                    type=\"button\"\n                    style=\"min-height: 31px; min-width: 60px\"\n                    class=\"btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center\"\n                    :disabled=\"status.loadingItem == item.id\"\n                    @click.prevent=\"addcart(item.id)\"\n                  >\n                    <div\n                      v-if=\"status.loadingItem == item.id\"\n                      class=\"ms-1 spinner-grow spinner-grow-sm\"\n                      role=\"status\"\n                    >\n                      <span class=\"visually-hidden\">Loading...</span>\n                    </div>\n                    <span v-else> 購買 </span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Pagination\n          v-if=\"paginationOpen\"\n          @emit-page=\"getProducts\"\n          :pages=\"pagination\"\n        ></Pagination>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport userStore from '@/stores/user';\nimport Pagination from '../components/PageNavigation.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProducts: [],\n      totalProducts: [],\n      paginationOpen: true,\n      isLoading: false,\n    };\n  },\n  components: {\n    Pagination,\n  },\n  computed: {\n    ...mapState(userStore, ['status']),\n  },\n  inject: ['emitter', '$httpMessageState'],\n  methods: {\n    ...mapActions(userStore, ['addcart']),\n\n    getProducts(page = 1) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_API_PATH}/products/?page=${page}`;\n      this.$http.get(api).then((res) => {\n        this.totalProducts = [];\n        for (let i = 1; i <= res.data.pagination.total_pages; i += 1) {\n          this.getTotalProducts(i);\n        }\n        this.products = res.data.products;\n        this.tempProducts = this.products;\n        this.paginationOpen = true;\n        this.pagination = res.data.pagination;\n        this.isLoading = false;\n      }).catch((error) => {\n        console.error('錯誤:', error);\n      });\n    },\n    getTotalProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_API_PATH}/products/?page=${page}`;\n      this.$http.get(api).then((res) => {\n        this.totalProducts.push(...res.data.products);\n      }).catch((error) => {\n        console.error('錯誤:', error);\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n    categoryProducts(sort) {\n      this.tempProducts = [];\n      this.paginationOpen = false;\n      this.totalProducts.forEach((item) => {\n        if (item.category === sort) {\n          this.tempProducts.push(item);\n        }\n      });\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./UserCart.vue?vue&type=template&id=27a02fe4\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_normalizeClass","disabled","$props","pages","has_pre","href","onClick","_cache","_withModifiers","$event","$options","prePage","current_page","_Fragment","_renderList","total_pages","page","style","key","updatePage","_hoisted_3","has_next","nextPage","props","methods","this","$emit","__exports__","render","src","_imports_0","alt","role","_hoisted_25","_createVNode","_component_LoadingSpinner","active","$data","isLoading","_hoisted_4","_hoisted_5","_hoisted_6","getProducts","_hoisted_7","categoryProducts","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","tempProducts","item","id","getProduct","imageUrl","title","_hoisted_14","_hoisted_15","_hoisted_13","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_createTextVNode","_toDisplayString","price","_hoisted_21","origin_price","_hoisted_22","type","_ctx","status","loadingItem","addcart","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_23","paginationOpen","_createBlock","_component_Pagination","onEmitPage","pagination","_createCommentVNode","data","products","totalProducts","components","Pagination","computed","mapState","userStore","inject","mapActions","api","$http","get","then","res","i","getTotalProducts","catch","error","console","push","$router","sort","forEach","category","created"],"sourceRoot":""}
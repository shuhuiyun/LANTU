"use strict";(self["webpackChunk_22_project_20240328"]=self["webpackChunk_22_project_20240328"]||[]).push([[862],{557:function(t,e,A){A.d(e,{A:function(){return P}});var a=A(6768),i=A(4232),s=A(5130);const n={"aria-label":"Page navigation example "},l={class:"pagination justify-content-center"},o=(0,a.Lk)("i",{class:"bi bi-chevron-double-left"},null,-1),c=[o],r=["onClick"],p=(0,a.Lk)("i",{class:"bi bi-chevron-double-right"},null,-1),d=[p];function u(t,e,A,o,p,u){return(0,a.uX)(),(0,a.CE)("nav",n,[(0,a.Lk)("ul",l,[(0,a.Lk)("li",{class:(0,i.C4)(["page-item",{disabled:!A.pages.has_pre}])},[(0,a.Lk)("a",{"aria-label":"prePage",class:"page-link",href:"#",onClick:e[0]||(e[0]=(0,s.D$)((t=>u.prePage(A.pages.current_page)),["prevent"]))},c)],2),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(A.pages.total_pages,(t=>((0,a.uX)(),(0,a.CE)("li",{class:(0,i.C4)(["page-item",{active:t===A.pages.current_page}]),style:{"border-radius":"5px"},key:t},[(0,a.Lk)("a",{class:"page-link",href:"#",onClick:(0,s.D$)((e=>u.updatePage(t)),["prevent"])},(0,i.v_)(t),9,r)],2)))),128)),(0,a.Lk)("li",{class:(0,i.C4)(["page-item",{disabled:!A.pages.has_next}])},[(0,a.Lk)("a",{"aria-label":"currentPage",class:"page-link",href:"#",onClick:e[1]||(e[1]=(0,s.D$)((t=>u.nextPage(A.pages.current_page)),["prevent"]))},d)],2)])])}var g={props:["pages"],methods:{updatePage(t){this.$emit("emit-page",t)},nextPage(t){this.$emit("emit-page",`${t+1}`)},prePage(t){this.$emit("emit-page",""+(t-1))}}},h=A(1241);const m=(0,h.A)(g,[["render",u]]);var P=m},2862:function(t,e,A){A.r(e),A.d(e,{default:function(){return I}});var a=A(6768),i=A(4232),s=A(5130),n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS0AAAEtCAIAAADSgaG5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAELNJREFUeNrsnXlz2lYXh2MciiG4hCxkMY3H7Uy//+fJDKZJqBeIQ20Tltpx3184fW9ULVcCJEzC8/zBxCAJcXMfnbvpaOfq6uoBANwrJYoAAA8BAA8B8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BAA8B8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BAA8B8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BAA8B8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BAA8B8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BYCUebufPHo/Hk8mkVCo1Gg29Ug8AD9fN2dnZ1dWV/fvi4uLo6Gh3d5eqALRL18fVHPfn3d1dp9OZzWZUBcDDtbZIo2++e/cu9n0APFwrvV7v06dPlAPg4Tqo1WpJH338+HEwGFAnAA8L5+c5SZ8Oh8MPHz5QLQAPC+fly5ceFSeTibqL//zzD5UD8LBwFUXSp7PZrNPpfPnyhfoB62EnOIi/bei39/v9u7u7+EtUqfTmzZuffvopaffb21t1KW9ubqhGQcpz6vV6pVKhNPAwEwp96hAmqSh++eWXarWa9Kl21O5MPyYJqfZ/s9lkxRIeZlLx7OzM41Kj0Xjx4oXnCMEFOhBtVjx9+lQ2UhR4mEJqWNN1vdVqea7rg8FgOBxSkkmoTXFwcEBgTLxaUQR2zVb7U10aT0/S33x9/vy5Z+AHJpOJvwDxEP5V8fXr1575DOtJekZltK9U5JK/dFccD+FfJJIim6cmvXv3zt98VVxFRX9XnHLAw3TK5XJqT3I0GiVtUKlUpCJD9kmM5lAOIRinCdPtdrNMCfrnM7aW8XisoPfXX395ylBXuqOjI8qKeJiIrkoZ5+UVFa+vrymxELVardlsSrOnT58mbaMS5uqPhz4uLy+zb3x6enpxcUGhxSIPPQPIC5UzHm4X6vtNJpOFdpGH5+fnFF0stpgm9iOVMwOneBjPdDqNL6NSaX9/33Np51YpT1RMGj1OKm083HaSgmG9Xn/16pWnw6Mdj4+PucDHXsKSVkcs2vTAQ8YeaqkdntvbW6nIrVJJpQd4uCoPHz50HZ7Xr18nNbRI/eYvPcDD3FAry79ihtRvgIfroFKpHB4eelbMkPoN8HAdlMtl/+I1Ur8BHq6l4EolRUVSvwEe3j+kfgM83BQVSf0GeHj/+O8Avru763a7f//9NwUFSTC3k5uKlUol6X5zvfnHH3/keKvUeDz+/PnzdDpVvNXBdQnQt+/t7T169Ih5czzcauwOYE/qN1naarUeP368yreMRqPBYBC6OctWqIvhcFgul58/f+7JtQO0S7dCRc98Rr/fX/pWKckmyU9OTvx3SOpTbaMtWe+Kh1tcoGmp3+Th6enpEhIqnGa/fTY1wRzg4Y+voj/12/X1tSRZaD5DgXTRlavaXnvx34GHW40/9Zv6ct1uN+N8hvqEyyWS0F4kZcLDbafZbPpvlZKKek09zipL5Fheh4fwdT6j3W57phaPj4/9d8Sq+bpKQlSSMuEhfKVWq/lvlfKnftvZ2dHunt5mKtyHhYfwlUql8uuvv3rmM/yp3+SwfyGrHzJQ4CF8c8m/niY19Zt/4MffNKX88RD+o6InrKWmfvMP/AAeQlYkkuehnKmp36Tx4eEhj7LBQ1gV/8MSU1O/2eo5//NwQnGYMsdDiA9rq6R+S82RE4Q7MPAQElkx9Zv1NrM4xnOp8BB8rJj6TSq2223/fIa2aTQaFDUego8sqd/Oz889Izfqanpy/jebTfqHeAgZ/g8yzGcoMHpUTMr5L709igIeQlhF/4qZ6XSq7qJn5Eb7hnqbdvsVZYuHsBj+1G83NzcfPnzwqFitVp2K1vPMPrcB9wv5aTYLC4n9fj8p35QluUmKnKbfeDze39+nW0g8hJVU9MxnWJYaz929ioGNRgMJ8RBWJXXFzMnJCY+Yx0NYh4r+qcXz8/OlU78BHkLm/5tiUr8BHsLCKuae+i3KbDYbj8fcpniPMF76HfDy5Us1UJMyPlnqNzVid3d3lzAwmJi4Wq22Wq2My8eBeLh15JX6LSShYmkwDNqD4s7OzoiNeAjxZEn9Np1OF5Iwdpby6upKVmMjHkI8qanf3r9/70n9lkVCbMRDSGfF1G/G5eVlxkdfYCMeQsL/2cqp31qt1kKp32Sj+o06LA+uwUMIq7jO1G8yUB6qC4qNeAj/Yf2p37ARDyGGNad+w0Y8hMSwlpr6zfOomYVSv0VtVL+R59jgIXwlNfXb2dnZcDj09zaXS694c3Ojg3e7XWzEQ0gPa4PBQMJ4VExN/YaNeAjppKZ+kyQnJydLp37DRjyEbP+dafMZo9HIv5ImKfXbojb6kyADHv74KjabzZ2dnaQNZrPZoqnflkDH7/V6cp6nL2aB+56KRdWx3+9bXaxWq4o2RT9twtaO+u9ItNRvnkaspX5LXYOaymQO1YB4eJ9YI9BVRP1DIWIwGBQ355ZlAbdhqd+KmM8APNwgkgZFhsNhQX2n7BI6FdWR86iYOvADeLjRXFxceCYJ1CzMPTAuKqHjbI6nt6mouPR8BuDhvaFqnSWTWo6BcWkJXej2qPggbSEr4OFmIRPUFs0+e5ZLYFxRQqeiLgqeg/gXsgIebpCE8sGTabuIwJiLhMFDee73VetUKpIpHA83F6vEnkm5IgJjjhK6A65hahHwcBMlXC4w5i5hxqhut0oxiIqHm0XqSrEiAmNBEmbs5aIiHm4WqSuniwiMhUro8I/6pi5kBTxcE/5JwoIC43okzPIDU59hDHhYOBknCfMNjOuU0AV8XQ78t0otlPoN8HBN3aeCAqNsXLOERur3Lpr6DfAwBwmXmyRcPTD641KhKA4fHx/75zMWTf0GeLh8dcxlfuL7vQB5frsNoqIiHiJh4Sr6s7Ol5vwHPFyJfCcJv2uKS/2Gh+CjoEnC75dCU7/hISR6SCEsem1aMfUbHgLk01ZfPfUbHgKkkzp25c/5D3gIa1IxNec/4CHkAKnf8BA2RUVSv+EhbASkfsND2AiypH5DxSjk1Yf8VZzNZp6xGalYq9U8CamIhwA5kCX1W71ep6DwMH4sgULIUUV/6jfGbPAwnmq1SiHkyH3dq4mH3308JCTmruI6cxfg4Q8CQ3lFsJ5cPniIh5BCobnt8PAHbJpyt05BpKZ+w0P4RrPZpJdYEJb6zf/McDyEeYmUStyqUxyz2azb7RIV8TCdSqXSarUoh4K4vb09Pj7+8uULRYGHKfz888/tdpuoWBCKh51OZ5uT3+FhVmq12uHhIZP7xZHXY8l/AHaYY01FRXRxccG65CUol8uPHz+2ld9J2zx79uzJkyd4iIdZBxhUVtPpdDKZUBp+1IjY29tT294WkabmAm82m1v+sBo8hDV1CPv9vqeyPXr06ODggP4hQJH1LO1hiZ8/f97mqUU8hPXxck7Sp2rwdzqd7ZzPwENYKwqJUjFpQsjmM25vb/EQoHAV/RlNPc+xwUOA3LCHJSat493CKSI8hHtTMSm58BauncBDuL/KN39YYihhlIJko9HYtqJg/hDuH3UILY2NJGy1Wlu4rBcPAWiXAgAeAuAhAOAhAB4CAB4C4CEA4CEAHgIAHgLgIQDgIQAeAgAeAuAhAOAhAB4CAB4C4CEA4CEAHgIAHgLgIQDgIQAeAgAeAuAhAOAhAB5uGzdzNvn0tvMZ9JvMQ4oglk6n02w2nzx5Evunn16vt7u7++bNmyxKXF9fJ31aq9X29vaC75yfn+vIOhO92jsySuf27NmzjOdmBxmPx7///rtnm+l0qm0yHrBcLu/v73tKz/Hx48dPnz75vxoP4Ruq33d3d0l/OlRZo6FP9VLvX15eRt+XWsF3JKGqZtI5qB6HPJR+l3NarZZV/dlsZq+q336H3Q/RxqkP+hyNRjqgs91fUPtzPKUHeFgsp6enSW08hZ3om7GhIPbNt2/fRt9U3JNCOrLstapvUet6TmhL81A6DYfDoCF6lcn23M8oLo5Jwt9++82CWOyW+gq9vn//nmqAhzl3nFStF3ootNVU1xjTvlY7DVV3OXN0dKRImNdJ6lDtdtsFYekn34JtYGupulCmT90v0kc6Jb0TCstBolFUJoeiq7Vag78U8DA3rJW49MPZFUlsd2edarCiVl4Smnt2NHu1VnGoG2YtVfeltTnufCyOeTzMC51bNJBm73PiIXy76lvFNTPdn6GRCb1pfSFr8qnymQPaXpIojLjqmBRA1LjN2AbWMfW9Oo6+Ql+nYOvCnf60GKht9FqpVKIdOWugjudEj1+v12O7lM5zC4PWa43dMlR6diaAh6te0a2+Wp0LVl+94zy0ym3uyQRrKFpF1J83/0caRD3UXto4dpJD74cCqRqfalXK6m63q3/3+335/+rVK3e2zmeFu+gQy59//uk6h7HDLaVSKWSXfkuwG6mvs1/krgtR24P20nDFwxwI1SRPxXLdQhkiB8yNt2/fujEPxczY0Y7oSKMffZGiltywMGgau0NZWI6OytqgkUWnpF8ROyykQ0lOJ57+LfHcuFR5DvUEDzdrjEem6dUFqAfz0X/rrakGx0baUPfSRdeQDMEuqyKS/an3e71e0vm8ePHC7SUJFQOln84w2LpORZLrJ9jQTvT36kwkf/SETdTY/mG0ywp4mBuf5kgMi34WeVTvVRdlYLSJqPeDs3NWcRXo3FBK8KPggKdrLlptNrW0ge3r5NcJuIruJNS5aWN9tV0asmPjscFObKvVUqvYP57k7x/iIR7mT2OORYBQtDEBoiHIzc5FW63BUBY7O6eNLRbpyGqLaneJ4TqloTFbnYC2dPV+oXZpSH6dmIltodvvYbvdjpUt9YvwEBYYwgle1GWFNNCbQbsezGcUc/9qBTdVdFPCRV0FK9V7GzvRmbhP7dzsPC3qLtQujXYy3TE9m1m89QzhAB7mg4Wde1knaQ3RYKg5ODh4P8c6jfrTo8cS7VJpL3WDUVSxUW8mDdLYiHGWNXGAh5lkU/DRa3Rm30Yporso5hTa7pIP+orgUJAJ5qYT5KfNLsT+HL0mLe5JOm2FNR0zqq4OEhvxbGnB0msh8BDrplbber2e1Wk3qmnBxwZXXG2L1kLVftXOkCRJQcNWnwXHaYLNP9ddtHEaJ/9wOHSDjXZ6LjTpe23MVu+oQ1iv14OziDaJH52T9ONfYKDi0gahwGh9VzzEwyWxKmXV3ZbLyDRXca2KBwcAg32w4GhNKGw62aJD/27j0E1GwcWcwTl3m2q375VsJomNmrpJSB1TvmkvbRC8GUrvaPdokzUYBlefDNSX6rfoDGmULsrO1dUVpRAdelloR8+Mtq2ksVAZ3EX11UmiDUajkRSyqBUc7bQpiti5fh3Bs7hMXxG9xyp6HAunOj276CSdoX/cSFcHd2T96Q+Gupwxf4iHAJsIeTEA8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BAA8B8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BAA8B8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BAA8B8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BAA8B8BAA8BAADwEADwHwEADwEAAPAQAPAfAQAPAQAA8BAA8B8BAA8BAADwEADwG+f/4nwAAlxkhm6VpwlgAAAABJRU5ErkJggg==";const l={class:"container my-5 bg-white mx-auto"},o={class:"row g-5 d-flex flex-md-row flex-column mx-2"},c={class:"p-0 col col-lg-2 bg-white pb-4 userCard__menu"},r=(0,a.Lk)("i",{class:"bi bi-bag me-3"},null,-1),p=["onClick"],d={class:"col-md-9 col col-lg-9"},u={class:"row row-cols-1 row-cols-lg-3 row-cols-md-2 gx-4"},g=["onClick"],h=["src","alt"],m={key:1,src:n,class:"col-12 border",style:{"aspect-ratio":"1/1","object-fit":"cover"},alt:"提示:此商品沒有圖片"},P={class:"p-2 position-relative"},f={class:"col text-start fs-5 text-dark lh-sm my-2 fw-bold text-truncate"},v={class:"text-dark mb-0"},k={class:"row"},w={class:"col text-start text-danger fs-5"},B={class:"fs-7 ms-1 text-decoration-line-through",style:{color:"rgb(37, 37, 43, 0.5)"}},b={class:"col-auto ms-auto my-auto position-absolute bottom-0 end-0 me-2 mb-2 z-3"},D=["disabled","onClick"],C={key:0,class:"ms-1 spinner-grow spinner-grow-sm",role:"status"},E=(0,a.Lk)("span",{class:"visually-hidden"},"Loading...",-1),L=[E],q={key:1};function H(t,e,A,n,E,H){const X=(0,a.g2)("LoadingSpinner"),y=(0,a.g2)("PageNavigation");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(X,{active:E.isLoading},null,8,["active"]),(0,a.Lk)("div",l,[(0,a.Lk)("div",o,[(0,a.Lk)("ul",c,[(0,a.Lk)("li",null,[(0,a.Lk)("a",{href:"#",class:(0,i.C4)([-1==E.isActive?"active":"","d-block py-2 fs-6 px-3 text-start link-underline-opacity-0 link-underline"]),onClick:e[0]||(e[0]=(0,s.D$)((t=>H.getProducts(1)),["prevent"]))},[r,(0,a.eW)("全部商品")],2)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(E.menu,((t,e)=>((0,a.uX)(),(0,a.CE)("li",{key:t.title},[(0,a.Lk)("a",{href:"#",class:(0,i.C4)([e==E.isActive?"active":"","d-block py-2 fs-6 px-3 text-start link-underline-opacity-0 link-underline"]),onClick:(0,s.D$)((A=>H.categoryProducts(t.title,e)),["prevent"])},[(0,a.Lk)("i",{class:(0,i.C4)(["me-3",t.iconClass])},null,2),(0,a.eW)((0,i.v_)(t.title),1)],10,p)])))),128))]),(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(E.tempProducts,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"col user-board__products mb-4",key:e.id},[(0,a.Lk)("a",{"aria-label":"img",class:"link-underline link-underline-opacity-0",href:"#",onClick:(0,s.D$)((t=>H.getProduct(e.id)),["prevent"])},[e.imageUrl?((0,a.uX)(),(0,a.CE)("img",{key:0,src:e.imageUrl,class:"col-12 border",style:{"aspect-ratio":"1/1","object-fit":"cover"},alt:e.title},null,8,h)):((0,a.uX)(),(0,a.CE)("img",m)),(0,a.Lk)("div",P,[(0,a.Lk)("div",f,[(0,a.Lk)("p",v,(0,i.v_)(e.title),1)]),(0,a.Lk)("div",k,[(0,a.Lk)("div",w,[(0,a.eW)((0,i.v_)(`$${e.price}`),1),(0,a.Lk)("span",B,(0,i.v_)(`$${e.origin_price}`),1)])]),(0,a.Lk)("div",b,[(0,a.Lk)("button",{type:"button",style:{"min-height":"31px","min-width":"60px"},class:"btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center",disabled:t.status.loadingItem==e.id,onClick:A=>t.addcart(e.id)},[t.status.loadingItem==e.id?((0,a.uX)(),(0,a.CE)("div",C,L)):((0,a.uX)(),(0,a.CE)("span",q," 購買 "))],8,D)])])],8,g)])))),128))]),E.paginationOpen?((0,a.uX)(),(0,a.Wv)(y,{key:0,onEmitPage:H.getProducts,pages:E.pagination},null,8,["onEmitPage","pages"])):(0,a.Q3)("",!0)])])])],64)}A(4114);var X=A(3367),y=A(4783),U=A(557),x={data(){return{products:[],pagination:{},tempProducts:[],totalProducts:[],paginationOpen:!0,isLoading:!1,isActive:0,menu:[{title:"手帳/日誌",iconClass:"bi bi-book"},{title:"筆記本",iconClass:"bi bi-journals"},{title:"便條紙",iconClass:"bi bi-card-text"},{title:"信封信紙/卡片",iconClass:"bi bi-envelope-open"}]}},components:{PageNavigation:U.A},computed:{...(0,X.aH)(y.A,["status"])},inject:["emitter","$httpMessageState"],methods:{...(0,X.i0)(y.A,["addcart"]),getProducts(t=1){this.isActive=-1,this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/patty-api/products/?page=${t}`;this.$http.get(e).then((t=>{this.totalProducts=[];for(let e=1;e<=t.data.pagination.total_pages;e+=1)this.getTotalProducts(e);this.products=t.data.products,this.tempProducts=this.products,this.paginationOpen=!0,this.pagination=t.data.pagination,this.isLoading=!1})).catch((()=>{this.emitter.emit("push-message",{style:"danger",title:"取得商品失敗",content:"抱歉，出現系統問題，請聯絡我們！"})}))},getTotalProducts(t=1){const e=`https://vue3-course-api.hexschool.io/api/patty-api/products/?page=${t}`;this.$http.get(e).then((t=>{this.totalProducts.push(...t.data.products)})).catch((()=>{this.emitter.emit("push-message",{style:"danger",title:"取得商品失敗",content:"抱歉，出現系統問題，請聯絡我們！"})}))},getProduct(t){""===this.status.loadingItem&&this.$router.push(`/user/product/${t}`)},categoryProducts(t,e){this.isActive=e,this.tempProducts=[],this.paginationOpen=!1,this.totalProducts.forEach((e=>{e.category===t&&this.tempProducts.push(e)}))}},created(){this.getProducts()}},Q=A(1241);const J=(0,Q.A)(x,[["render",H]]);var I=J}}]);
//# sourceMappingURL=862.70319614.js.map
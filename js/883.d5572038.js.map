{"version":3,"file":"js/883.d5572038.js","mappings":"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","sources":["webpack://22_project_20240328/./src/components/PageNavigation.vue","webpack://22_project_20240328/./src/components/PageNavigation.vue?402b","webpack://22_project_20240328/./src/views/frontend/UserCart.vue","webpack://22_project_20240328/./src/views/frontend/UserCart.vue?653b"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example \">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\n        <a\n          aria-label=\"prePage\"\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"prePage(pages.current_page)\"\n          ><i class=\"bi bi-chevron-double-left\"></i\n        ></a>\n      </li>\n      <li\n        class=\"page-item\"\n        style=\"border-radius: 5px\"\n        v-for=\"page in pages.total_pages\"\n        :key=\"page\"\n        :class=\"{ 'active': page === pages.current_page }\"\n      >\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{\n          page\n        }}</a>\n      </li>\n\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\n        <a\n          aria-label=\"currentPage\"\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"nextPage(pages.current_page)\"\n          ><i class=\"bi bi-chevron-double-right\"></i\n        ></a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-page', page);\n    },\n    nextPage(page) {\n      this.$emit('emit-page', `${page + 1}`);\n    },\n    prePage(page) {\n      this.$emit('emit-page', `${page - 1}`);\n    },\n  },\n};\n</script>\n","import { render } from \"./PageNavigation.vue?vue&type=template&id=fbf8e3a2\"\nimport script from \"./PageNavigation.vue?vue&type=script&lang=js\"\nexport * from \"./PageNavigation.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- eslint-disable max-len -->\n<template>\n  <LoadingSpinner :active=\"isLoading\"></LoadingSpinner>\n  <div class=\"container my-5 bg-white mx-auto\">\n    <div class=\"row g-5 d-flex flex-md-row flex-column mx-2\">\n      <ul class=\"p-0 col col-lg-2 bg-white pb-4 userCard__menu\">\n        <li>\n          <a\n            href=\"#\"\n            :class=\"isActive == -1 ? 'active' : ''\"\n            class=\"d-block py-2 fs-6 px-3 text-start link-underline-opacity-0 link-underline\"\n            @click.prevent=\"getProducts(1)\"\n            ><i class=\"bi bi-bag me-3\"></i>全部商品</a\n          >\n        </li>\n        <li v-for=\"(item, index) in menu\" :key=\"item.title\">\n          <a\n            href=\"#\"\n            :class=\"index == isActive ? 'active' : ''\"\n            class=\"d-block py-2 fs-6 px-3 text-start link-underline-opacity-0 link-underline\"\n            @click.prevent=\"categoryProducts(item.title, index)\"\n            ><i class=\"me-3\" :class=\"item.iconClass\"></i>{{ item.title }}</a\n          >\n        </li>\n      </ul>\n\n      <div class=\"col-md-9 col col-lg-9\">\n        <div class=\"row row-cols-1 row-cols-lg-3 row-cols-md-2 gx-4\">\n          <!-- 商品 -->\n          <div\n            class=\"col user-board__products mb-4\"\n            v-for=\"item in tempProducts\"\n            :key=\"item.id\"\n          >\n            <a aria-label=\"img\" href=\"#\" @click.prevent=\"getProduct(item.id)\">\n              <img\n                :src=\"item.imageUrl\"\n                v-if=\"item.imageUrl\"\n                class=\"col-12 border\"\n                style=\"aspect-ratio: 1/1; object-fit: cover\"\n                :alt=\"item.title\"\n              />\n              <img\n                v-else\n                src=\"../../assets/images/no-image.png\"\n                class=\"col-12 border\"\n                style=\"aspect-ratio: 1/1; object-fit: cover\"\n                alt=\"提示:此商品沒有圖片\"\n              />\n            </a>\n            <div class=\"p-2\">\n              <div\n                class=\"col text-start fs-5 text-dark lh-sm my-2 fw-bold text-truncate\"\n              >\n                <a\n                  href=\"#\"\n                  class=\"link-offset-1 text-dark link-underline-dark link-underline-opacity-0 link-underline-opacity-75-hover\"\n                  @click.prevent=\"getProduct(item.id)\"\n                >\n                  {{ item.title }}</a\n                >\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col text-start text-danger fs-5\">\n                  {{ `$${item.price}`\n                  }}<span\n                    class=\"fs-7 ms-1 text-decoration-line-through\"\n                    style=\"color: rgb(37, 37, 43, 0.5)\"\n                    >{{ `$${item.origin_price}` }}</span\n                  >\n                </div>\n                <div class=\"col-auto ms-auto my-auto\">\n                  <button\n                    type=\"button\"\n                    style=\"min-height: 31px; min-width: 60px\"\n                    class=\"btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center\"\n                    :disabled=\"status.loadingItem == item.id\"\n                    @click=\"addcart(item.id)\"\n                  >\n                    <div\n                      v-if=\"status.loadingItem == item.id\"\n                      class=\"ms-1 spinner-grow spinner-grow-sm\"\n                      role=\"status\"\n                    >\n                      <span class=\"visually-hidden\">Loading...</span>\n                    </div>\n                    <span v-else> 購買 </span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <PageNavigation\n          v-if=\"paginationOpen\"\n          @emit-page=\"getProducts\"\n          :pages=\"pagination\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport userStore from '@/stores/user';\n\nimport PageNavigation from '@/components/PageNavigation.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProducts: [],\n      totalProducts: [],\n      paginationOpen: true,\n      isLoading: false,\n      isActive: 0,\n      menu: [\n        { title: '手帳/日誌', iconClass: 'bi bi-book' },\n        { title: '筆記本', iconClass: 'bi bi-journals' },\n        { title: '便條紙', iconClass: 'bi bi-card-text' },\n        { title: '信封信紙/卡片', iconClass: 'bi bi-envelope-open' },\n      ],\n    };\n  },\n  components: {\n    PageNavigation,\n  },\n  computed: {\n    ...mapState(userStore, ['status']),\n  },\n  inject: ['emitter', '$httpMessageState'],\n  methods: {\n    ...mapActions(userStore, ['addcart']),\n\n    getProducts(page = 1) {\n      this.isActive = -1;\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_API_PATH}/products/?page=${page}`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.totalProducts = [];\n          for (let i = 1; i <= res.data.pagination.total_pages; i += 1) {\n            this.getTotalProducts(i);\n          }\n          this.products = res.data.products;\n          this.tempProducts = this.products;\n          this.paginationOpen = true;\n          this.pagination = res.data.pagination;\n          this.isLoading = false;\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '取得商品失敗',\n            content: '抱歉，出現系統問題，請聯絡我們！',\n          });\n        });\n    },\n    getTotalProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_API_PATH}/products/?page=${page}`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.totalProducts.push(...res.data.products);\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '取得商品失敗',\n            content: '抱歉，出現系統問題，請聯絡我們！',\n          });\n        });\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n\n    categoryProducts(sort, index) {\n      this.isActive = index;\n      console.log(this.isActive, index);\n\n      this.tempProducts = [];\n      this.paginationOpen = false;\n      this.totalProducts.forEach((item) => {\n        if (item.category === sort) {\n          this.tempProducts.push(item);\n        }\n      });\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./UserCart.vue?vue&type=template&id=a929cfc6\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","_normalizeClass","disabled","$props","pages","has_pre","href","onClick","_cache","_withModifiers","$event","$options","prePage","current_page","_hoisted_4","_Fragment","_renderList","total_pages","page","style","key","updatePage","_hoisted_5","has_next","nextPage","_hoisted_7","props","methods","this","$emit","__exports__","render","src","_imports_0","alt","role","_hoisted_20","_createVNode","_component_LoadingSpinner","active","$data","isLoading","isActive","getProducts","_createTextVNode","menu","item","index","title","categoryProducts","iconClass","_toDisplayString","tempProducts","id","getProduct","imageUrl","_hoisted_9","_hoisted_10","_hoisted_8","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","price","_hoisted_16","origin_price","_hoisted_17","type","_ctx","status","loadingItem","addcart","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_18","paginationOpen","_createBlock","_component_PageNavigation","onEmitPage","pagination","_createCommentVNode","data","products","totalProducts","components","PageNavigation","computed","mapState","userStore","inject","mapActions","api","$http","get","then","res","i","getTotalProducts","catch","emitter","emit","content","push","$router","sort","console","log","forEach","category","created"],"sourceRoot":""}